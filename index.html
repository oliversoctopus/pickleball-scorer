<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pickleball Scorer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: #333;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 600px;
            width: 100%;
            padding: 30px;
            backdrop-filter: blur(10px);
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2.5rem;
            font-weight: 800;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1rem;
        }

        .game-setup {
            margin-bottom: 30px;
        }

        .setup-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            align-items: center;
        }

        label {
            font-weight: 600;
            color: #555;
            margin-bottom: 5px;
            display: block;
        }

        input[type="text"], select {
            flex: 1;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s;
        }

        input[type="text"]:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .toggle-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .toggle-button {
            flex: 1;
            padding: 10px;
            border: 2px solid #e0e0e0;
            background: white;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .toggle-button.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .score-board {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .team-card {
            background: linear-gradient(145deg, #f5f5f5, #fff);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            overflow: hidden;
        }

        .team-card.serving::before {
            content: 'üèê';
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.5rem;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .team-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .team-name {
            font-size: 1.2rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 10px;
            text-align: center;
        }

        .score-display {
            font-size: 4rem;
            font-weight: 900;
            text-align: center;
            color: #667eea;
            margin: 20px 0;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
        }

        .score-button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .score-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .score-button:active {
            transform: translateY(0);
        }

        .server-info {
            text-align: center;
            padding: 15px;
            background: linear-gradient(135deg, #ffd89b, #19547b);
            color: white;
            border-radius: 15px;
            margin-bottom: 20px;
            font-weight: 600;
            font-size: 1.1rem;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
        }

        .control-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 30px;
        }

        .control-button {
            padding: 15px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .control-button:hover {
            background: #667eea;
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .control-button.danger {
            border-color: #e74c3c;
            color: #e74c3c;
        }

        .control-button.danger:hover {
            background: #e74c3c;
            color: white;
        }

        .history {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
            max-height: 200px;
            overflow-y: auto;
        }

        .history h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .history-item {
            padding: 8px 12px;
            background: white;
            border-radius: 8px;
            margin-bottom: 8px;
            font-size: 0.9rem;
            color: #555;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateX(-10px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .winner-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .winner-content {
            background: white;
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            animation: zoomIn 0.5s;
            max-width: 400px;
            width: 90%;
        }

        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.5);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .winner-title {
            font-size: 3rem;
            color: #667eea;
            margin-bottom: 20px;
            font-weight: 900;
        }

        .winner-team {
            font-size: 1.8rem;
            color: #333;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .final-score {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 30px;
        }

        .hidden {
            display: none !important;
        }

        @media (max-width: 480px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .score-display {
                font-size: 3rem;
            }
            
            .control-buttons {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üèì Pickleball Scorer</h1>
        <p class="subtitle">Professional scoring for your pickleball matches</p>
        
        <div class="game-setup" id="gameSetup">
            <div class="setup-row">
                <input type="text" id="team1Name" placeholder="Team 1 Name" value="Team 1">
                <input type="text" id="team2Name" placeholder="Team 2 Name" value="Team 2">
            </div>
            
            <div class="setup-row">
                <select id="gameType">
                    <option value="11">Play to 11 (win by 2)</option>
                    <option value="15">Play to 15 (win by 2)</option>
                    <option value="21">Play to 21 (win by 2)</option>
                </select>
            </div>
            
            <label>Game Format:</label>
            <div class="toggle-group">
                <button class="toggle-button active" data-format="singles">Singles</button>
                <button class="toggle-button" data-format="doubles">Doubles</button>
            </div>
            
            <label>Who serves first?</label>
            <div class="toggle-group">
                <button class="toggle-button" data-serve="1">Team 1</button>
                <button class="toggle-button" data-serve="2">Team 2</button>
            </div>
            
            <div class="control-buttons">
                <button class="control-button" onclick="startGame()">Start Game</button>
            </div>
        </div>
        
        <div class="game-play hidden" id="gamePlay">
            <div class="server-info" id="serverInfo">
                Team 1 Serving - Server 1
            </div>
            
            <div class="score-board">
                <div class="team-card" id="team1Card">
                    <div class="team-name" id="team1Display">Team 1</div>
                    <div class="score-display" id="team1Score">0</div>
                    <button class="score-button" onclick="addPoint(1)">Point</button>
                </div>
                
                <div class="team-card" id="team2Card">
                    <div class="team-name" id="team2Display">Team 2</div>
                    <div class="score-display" id="team2Score">0</div>
                    <button class="score-button" onclick="addPoint(2)">Point</button>
                </div>
            </div>
            
            <div class="control-buttons">
                <button class="control-button" onclick="switchServe()">Switch Serve</button>
                <button class="control-button" onclick="undoLastPoint()">Undo</button>
                <button class="control-button danger" onclick="resetGame()">New Game</button>
            </div>
            
            <div class="history">
                <h3>Match History</h3>
                <div id="historyList"></div>
            </div>
        </div>
    </div>
    
    <div class="winner-modal" id="winnerModal">
        <div class="winner-content">
            <div class="winner-title">üèÜ Winner!</div>
            <div class="winner-team" id="winnerTeam"></div>
            <div class="final-score" id="finalScore"></div>
            <button class="control-button" onclick="closeWinnerModal()">New Game</button>
        </div>
    </div>
    
    <script>
        let gameState = {
            team1: { name: 'Team 1', score: 0 },
            team2: { name: 'Team 2', score: 0 },
            servingTeam: 1,
            serverNumber: 1,
            gameFormat: 'singles',
            playTo: 11,
            history: [],
            gameStarted: false
        };
        
        // Setup event listeners
        document.querySelectorAll('[data-format]').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('[data-format]').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                gameState.gameFormat = this.dataset.format;
            });
        });
        
        document.querySelectorAll('[data-serve]').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('[data-serve]').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                gameState.servingTeam = parseInt(this.dataset.serve);
            });
        });
        
        function startGame() {
            const team1Name = document.getElementById('team1Name').value || 'Team 1';
            const team2Name = document.getElementById('team2Name').value || 'Team 2';
            
            gameState.team1.name = team1Name;
            gameState.team2.name = team2Name;
            gameState.playTo = parseInt(document.getElementById('gameType').value);
            gameState.gameStarted = true;
            
            // Set initial serving team if selected
            const selectedServe = document.querySelector('[data-serve].active');
            if (selectedServe) {
                gameState.servingTeam = parseInt(selectedServe.dataset.serve);
            }
            
            document.getElementById('team1Display').textContent = team1Name;
            document.getElementById('team2Display').textContent = team2Name;
            
            document.getElementById('gameSetup').classList.add('hidden');
            document.getElementById('gamePlay').classList.remove('hidden');
            
            updateDisplay();
            addHistoryItem('Game started - Playing to ' + gameState.playTo);
        }
        
        function addPoint(team) {
            const previousState = JSON.parse(JSON.stringify(gameState));
            
            if (team === 1) {
                if (gameState.servingTeam === 1) {
                    gameState.team1.score++;
                    addHistoryItem(`${gameState.team1.name} scores! (${gameState.team1.score}-${gameState.team2.score})`);
                } else {
                    handleSideOut();
                    addHistoryItem(`Side out - ${gameState.team1.name} wins rally`);
                }
            } else {
                if (gameState.servingTeam === 2) {
                    gameState.team2.score++;
                    addHistoryItem(`${gameState.team2.name} scores! (${gameState.team1.score}-${gameState.team2.score})`);
                } else {
                    handleSideOut();
                    addHistoryItem(`Side out - ${gameState.team2.name} wins rally`);
                }
            }
            
            gameState.history.push(previousState);
            updateDisplay();
            checkWinner();
        }
        
        function handleSideOut() {
            if (gameState.gameFormat === 'doubles') {
                if (gameState.servingTeam === 1 && gameState.serverNumber === 1) {
                    gameState.serverNumber = 2;
                } else {
                    gameState.servingTeam = gameState.servingTeam === 1 ? 2 : 1;
                    gameState.serverNumber = 1;
                }
            } else {
                gameState.servingTeam = gameState.servingTeam === 1 ? 2 : 1;
            }
        }
        
        function switchServe() {
            const previousState = JSON.parse(JSON.stringify(gameState));
            handleSideOut();
            gameState.history.push(previousState);
            addHistoryItem('Manual serve switch');
            updateDisplay();
        }
        
        function undoLastPoint() {
            if (gameState.history.length > 0) {
                const previousState = gameState.history.pop();
                gameState = previousState;
                addHistoryItem('Undo last action');
                updateDisplay();
            }
        }
        
        function updateDisplay() {
            document.getElementById('team1Score').textContent = gameState.team1.score;
            document.getElementById('team2Score').textContent = gameState.team2.score;
            
            // Update serving indicator
            document.getElementById('team1Card').classList.toggle('serving', gameState.servingTeam === 1);
            document.getElementById('team2Card').classList.toggle('serving', gameState.servingTeam === 2);
            
            // Update server info
            const servingTeamName = gameState.servingTeam === 1 ? gameState.team1.name : gameState.team2.name;
            let serverText = `${servingTeamName} Serving`;
            if (gameState.gameFormat === 'doubles') {
                serverText += ` - Server ${gameState.serverNumber}`;
            }
            document.getElementById('serverInfo').textContent = serverText;
        }
        
        function checkWinner() {
            const team1Score = gameState.team1.score;
            const team2Score = gameState.team2.score;
            const winBy2 = Math.abs(team1Score - team2Score) >= 2;
            
            if ((team1Score >= gameState.playTo || team2Score >= gameState.playTo) && winBy2) {
                const winner = team1Score > team2Score ? gameState.team1 : gameState.team2;
                showWinner(winner);
            }
        }
        
        function showWinner(winner) {
            document.getElementById('winnerTeam').textContent = winner.name;
            document.getElementById('finalScore').textContent = 
                `Final Score: ${gameState.team1.name} ${gameState.team1.score} - ${gameState.team2.score} ${gameState.team2.name}`;
            document.getElementById('winnerModal').style.display = 'flex';
        }
        
        function closeWinnerModal() {
            document.getElementById('winnerModal').style.display = 'none';
            resetGame();
        }
        
        function resetGame() {
            gameState = {
                team1: { name: 'Team 1', score: 0 },
                team2: { name: 'Team 2', score: 0 },
                servingTeam: 1,
                serverNumber: 1,
                gameFormat: 'singles',
                playTo: 11,
                history: [],
                gameStarted: false
            };
            
            document.getElementById('gameSetup').classList.remove('hidden');
            document.getElementById('gamePlay').classList.add('hidden');
            document.getElementById('historyList').innerHTML = '';
        }
        
        function addHistoryItem(text) {
            const historyList = document.getElementById('historyList');
            const item = document.createElement('div');
            item.className = 'history-item';
            const time = new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
            item.textContent = `${time} - ${text}`;
            historyList.insertBefore(item, historyList.firstChild);
            
            // Keep only last 10 items
            while (historyList.children.length > 10) {
                historyList.removeChild(historyList.lastChild);
            }
        }
    </script>
</body>
</html>